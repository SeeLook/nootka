# -*- rpm-spec -*-
BuildRoot:      @CPACK_RPM_DIRECTORY@/@CPACK_PACKAGE_FILE_NAME@
Summary:        @CPACK_RPM_PACKAGE_SUMMARY@
Name:           @CPACK_RPM_PACKAGE_NAME@
Version:        @CPACK_RPM_PACKAGE_VERSION@
Release:        @CPACK_RPM_PACKAGE_RELEASE@
License:        @CPACK_RPM_PACKAGE_LICENSE@
Group:          @CPACK_RPM_PACKAGE_GROUP@
Vendor:         @CPACK_RPM_PACKAGE_VENDOR@
@TMP_RPM_URL@


%if 0%{?suse_version}
Requires: libqt5-qtbase, fftw3, soundtouch
%endif

%if 0%{?fedora}
Requires: qt5-qtbase, fftw, soundtouch, libvorbis, pulseaudio-libs
%endif

%if 0%{?mandriva_version}
Requires: libfftw3
%endif

@TMP_RPM_PROVIDES@
@TMP_RPM_OBSOLETES@
@TMP_RPM_BUILDARCH@
@TMP_RPM_PREFIX@

%define _rpmdir @CPACK_RPM_DIRECTORY@
%define _rpmfilename @CPACK_RPM_FILE_NAME@
%define _unpackaged_files_terminate_build 0
%define _topdir @CPACK_RPM_DIRECTORY@
@TMP_RPM_SPEC_INSTALL_POST@
@CPACK_RPM_SPEC_MORE_DEFINE@
@CPACK_RPM_COMPRESSION_TYPE_TMP@

%description
@CPACK_RPM_PACKAGE_DESCRIPTION@

# This is a shortcutted spec file generated by CMake RPM generator
# we skip _install step because CPack does that for us.
# We do only save CPack installed tree in _prepr
# and then restore it in build.
%prep
mv $RPM_BUILD_ROOT "@CPACK_TOPLEVEL_DIRECTORY@/tmpBBroot"

#p build

%install
if [ -e $RPM_BUILD_ROOT ];
then
  mv "@CPACK_TOPLEVEL_DIRECTORY@/tmpBBroot/*" $RPM_BUILD_ROOT
else
  mv "@CPACK_TOPLEVEL_DIRECTORY@/tmpBBroot" $RPM_BUILD_ROOT
fi

%clean

%post
@CPACK_RPM_SPEC_POSTINSTALL@

%postun
@CPACK_RPM_SPEC_POSTUNINSTALL@


%files
%defattr(-,root,root,-)
%dir "/usr/share/mime"
%dir "/usr/share/mime/packages"
"/usr/share/mime/packages/nootka.xml"
%dir "/usr/share/applications"
"/usr/share/applications/nootka.desktop"
%dir "/usr/share/man"
"/usr/share/man/man1*"
"/usr/share/man/man1/nootka.1.gz*"
%dir "/usr/share/doc/nootka"
"/usr/share/doc/nootka/copyright"
%dir "/usr/share/pixmaps"
"/usr/share/pixmaps/nootka.png"
"/usr/share/pixmaps/nootka-exam.png"
"/usr/share/pixmaps/nootka-level.png"
%dir "/usr/share/nootka"
%dir "/usr/share/nootka/lang"
"/usr/share/nootka/lang/nootka_ru.qm"
"/usr/share/nootka/lang/nootka_pl.qm"
"/usr/share/nootka/lang/nootka_de.qm"
"/usr/share/nootka/lang/nootka_fr.qm"
"/usr/share/nootka/lang/nootka_cs.qm"
%dir "/usr/share/nootka/picts"
"/usr/share/nootka/picts/exam.png"
"/usr/share/nootka/picts/melody.png"
"/usr/share/nootka/picts/charts.png"
"/usr/share/nootka/picts/accidSettings.png"
"/usr/share/nootka/picts/practice.png"
"/usr/share/nootka/picts/score.png"
"/usr/share/nootka/picts/help.png"
"/usr/share/nootka/picts/record.png"
"/usr/share/nootka/picts/check.png"
"/usr/share/nootka/picts/scoreSettings.png"
"/usr/share/nootka/picts/levelCreator.png"
"/usr/share/nootka/picts/exam-settings.png"
"/usr/share/nootka/picts/support.png"
"/usr/share/nootka/picts/body-bass.png"
"/usr/share/nootka/picts/barChart.png"
"/usr/share/nootka/picts/certBg.png"
"/usr/share/nootka/picts/wizard-left.png"
"/usr/share/nootka/picts/nextQuest.png"
"/usr/share/nootka/picts/flags-de.png"
"/usr/share/nootka/picts/stamp.png"
"/usr/share/nootka/picts/fork.png"
"/usr/share/nootka/picts/startExam.png"
"/usr/share/nootka/picts/body-electro.png"
"/usr/share/nootka/picts/flags-en.png"
"/usr/share/nootka/picts/chlog.png"
"/usr/share/nootka/picts/guitarSettings.png"
"/usr/share/nootka/picts/body.png"
"/usr/share/nootka/picts/fullscreen.png"
"/usr/share/nootka/picts/flags-cs.png"
"/usr/share/nootka/picts/melody-rec.png"
"/usr/share/nootka/picts/soundSettings.png"
"/usr/share/nootka/picts/correct.png"
"/usr/share/nootka/picts/nootka.png"
"/usr/share/nootka/picts/nootka-exam.png"
"/usr/share/nootka/picts/appearance.png"
"/usr/share/nootka/picts/clear-score.png"
"/usr/share/nootka/picts/author.png"
"/usr/share/nootka/picts/pickup.png"
"/usr/share/nootka/picts/systemsettings.png"
"/usr/share/nootka/picts/flags-fr.png"
"/usr/share/nootka/picts/license.png"
"/usr/share/nootka/picts/notSaved.png"
"/usr/share/nootka/picts/prevQuest.png"
"/usr/share/nootka/picts/fingbg.png"
"/usr/share/nootka/picts/levelsSettings.png"
"/usr/share/nootka/picts/flags-pl.png"
"/usr/share/nootka/picts/nootka-level.png"
"/usr/share/nootka/picts/questionsSettings.png"
"/usr/share/nootka/picts/fingbg-el.png"
"/usr/share/nootka/picts/stopExam.png"
"/usr/share/nootka/picts/flags-ru.png"
"/usr/share/nootka/picts/global.png"
"/usr/share/nootka/picts/zoom-out.png"
"/usr/share/nootka/picts/logo.png"
"/usr/share/nootka/picts/repeatSound.png"
"/usr/share/nootka/picts/scr.png"
"/usr/share/nootka/picts/melody-play.png"
"/usr/share/nootka/picts/rangeSettings.png"
"/usr/share/nootka/picts/zoom-in.png"
"/usr/share/nootka/picts/linearChart.png"
%dir "/usr/share/nootka/sounds"
"/usr/share/nootka/sounds/bass-guitar.ogg"
"/usr/share/nootka/sounds/classical-guitar.ogg"
"/usr/share/nootka/sounds/electric-guitar.ogg"
%dir "/usr/share/nootka/fonts"
"/usr/share/nootka/fonts/README"
"/usr/share/nootka/fonts/nootka.ttf"
"/usr/share/nootka/gpl"
"/usr/share/nootka/changes"
%dir "/usr/lib/nootka"
"/usr/lib/nootka/libNootkaSettingsPlugin.so"
"/usr/lib/nootka/libNootkaUpdaterPlugin.so"
"/usr/lib/nootka/libNootkaCore.so"
"/usr/lib/nootka/libNootkaMisc.so"
"/usr/lib/nootka/libNootkaSound.so"
"/usr/lib/nootka/libNootkaWizardPlugin.so"
"/usr/lib/nootka/libNootkaLevelPlugin.so"
"/usr/lib/nootka/libNootkaAnalyzerPlugin.so"
"/usr/bin/nootka"

%changelog
@CPACK_RPM_SPEC_CHANGELOG@
