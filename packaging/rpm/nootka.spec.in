# -*- rpm-spec -*-
BuildRoot:      @CPACK_RPM_DIRECTORY@/@CPACK_PACKAGE_FILE_NAME@
Summary:        @CPACK_RPM_PACKAGE_SUMMARY@
Name:           @CPACK_RPM_PACKAGE_NAME@
Version:        @CPACK_RPM_PACKAGE_VERSION@
Release:        @CPACK_RPM_PACKAGE_RELEASE@
License:        @CPACK_RPM_PACKAGE_LICENSE@
Group:          @CPACK_RPM_PACKAGE_GROUP@
Vendor:         @CPACK_RPM_PACKAGE_VENDOR@
@TMP_RPM_URL@
# My three cents about requirements
%if 0%{?suse_version}
Requires: libqt4 >= 4.6, libqt4-devel, fftw3, libvorbis, libpulse0, libjack0, libSoundTouch0
%endif
%if 0%{?fedora}
Requires: qt-devel, fftw, soundtouch, libvorbis, jack-audio-connection-kit, pulseaudio-libs
%endif
%if 0%{?mandriva_version}
Requires: libfftw3
%endif

@TMP_RPM_PROVIDES@
@TMP_RPM_OBSOLETES@
@TMP_RPM_BUILDARCH@
@TMP_RPM_PREFIX@

%define _rpmdir @CPACK_RPM_DIRECTORY@
%define _rpmfilename @CPACK_RPM_FILE_NAME@
%define _unpackaged_files_terminate_build 0
%define _topdir @CPACK_RPM_DIRECTORY@
@TMP_RPM_SPEC_INSTALL_POST@
@CPACK_RPM_SPEC_MORE_DEFINE@
@CPACK_RPM_COMPRESSION_TYPE_TMP@

%description
@CPACK_RPM_PACKAGE_DESCRIPTION@

# This is a shortcutted spec file generated by CMake RPM generator
# we skip _install step because CPack does that for us.
# We do only save CPack installed tree in _prepr
# and then restore it in build.
%prep
mv $RPM_BUILD_ROOT "@CPACK_TOPLEVEL_DIRECTORY@/tmpBBroot"

#p build

%install
if [ -e $RPM_BUILD_ROOT ];
then
  mv "@CPACK_TOPLEVEL_DIRECTORY@/tmpBBroot/*" $RPM_BUILD_ROOT
else
  mv "@CPACK_TOPLEVEL_DIRECTORY@/tmpBBroot" $RPM_BUILD_ROOT
fi

%clean

%post
@CPACK_RPM_SPEC_POSTINSTALL@

%postun
@CPACK_RPM_SPEC_POSTUNINSTALL@

%pre
@CPACK_RPM_SPEC_PREINSTALL@

%preun
@CPACK_RPM_SPEC_PREUNINSTALL@

%files
%defattr(-,root,root,-)
"/usr/bin/nootka"
"/usr/bin/nootka-updater"
"/usr/share/doc/nootka/copyright"
"/usr/share/man/man1/nootka.1.gz*"
"/usr/share/mime/packages/nootka.xml"
"/usr/share/nootka/gpl"
"/usr/share/nootka/changes"
"/usr/share/nootka/lang/nootka_cs.qm"
"/usr/share/nootka/lang/nootka_pl.qm"
"/usr/share/nootka/lang/nootka_fr.qm"
"/usr/share/nootka/fonts/README"
"/usr/share/nootka/fonts/nootka.otf"
"/usr/share/nootka/fonts/nootka.ttf"
"/usr/share/nootka/picts/soundSettings.png"
"/usr/share/nootka/picts/scr.png"
"/usr/share/nootka/picts/prevQuest.png"
"/usr/share/nootka/picts/levelsSettings.png"
"/usr/share/nootka/picts/nextQuest.png"
"/usr/share/nootka/picts/scoreSettings.png"
"/usr/share/nootka/picts/rangeSettings.png"
"/usr/share/nootka/picts/notSaved.png"
"/usr/share/nootka/picts/c1-treble_8.png"
"/usr/share/nootka/picts/c1-trebe.png"
"/usr/share/nootka/picts/author.png"
"/usr/share/nootka/picts/nameSettings.png"
"/usr/share/nootka/picts/accidSettings.png"
"/usr/share/nootka/picts/systemsettings.png"
"/usr/share/nootka/picts/global.png"
"/usr/share/nootka/picts/expertCorner.png"
"/usr/share/nootka/picts/stopExam.png"
"/usr/share/nootka/picts/about.png"
"/usr/share/nootka/picts/check.png"
"/usr/share/nootka/picts/chlog.png"
"/usr/share/nootka/picts/guitarSettings.png"
"/usr/share/nootka/picts/levelCreator.png"
"/usr/share/nootka/picts/logo.png"
"/usr/share/nootka/picts/body.png"
"/usr/share/nootka/picts/repeatSound.png"
"/usr/share/nootka/picts/nootka-exam.png"
"/usr/share/nootka/picts/fingbg.png"
"/usr/share/nootka/picts/nootka.png"
"/usr/share/nootka/picts/nootka.svg"
"/usr/share/nootka/picts/license.png"
"/usr/share/nootka/picts/startExam.png"
"/usr/share/nootka/picts/questionsSettings.png"
"/usr/share/nootka/picts/fullscreen.png"
"/usr/share/nootka/picts/help.png"
"/usr/share/nootka/picts/charts.png"
"/usr/share/nootka/picts/barChart.png"
"/usr/share/nootka/picts/linearChart.png"
"/usr/share/nootka/picts/zoom-in.png"
"/usr/share/nootka/picts/zoom-out.png"
"/usr/share/nootka/picts/support.png"
"/usr/share/nootka/picts/flags-cs.png"
"/usr/share/nootka/picts/flags-en.png"
"/usr/share/nootka/picts/flags-fr.png"
"/usr/share/nootka/picts/flags-pl.png"
"/usr/share/nootka/picts/middleA.png"

"/usr/share/nootka/sounds/classical-guitar.ogg"
"/usr/share/applications/nootka.desktop"
"/usr/share/pixmaps/levelCreator.png"
"/usr/share/pixmaps/nootka-exam.png"
"/usr/share/pixmaps/nootka.svg"



%changelog
@CPACK_RPM_SPEC_CHANGELOG@
